<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: Paperclip::Shoulda</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">Paperclip::Shoulda</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/vendor/plugins/paperclip/lib/paperclip/matchers_rb.html">
                vendor/plugins/paperclip/lib/paperclip/matchers.rb
                </a>
        <br />
                <a href="../../files/vendor/plugins/paperclip/lib/paperclip/matchers/validate_attachment_size_matcher_rb.html">
                vendor/plugins/paperclip/lib/paperclip/matchers/validate_attachment_size_matcher.rb
                </a>
        <br />
                <a href="../../files/vendor/plugins/paperclip/lib/paperclip/matchers/validate_attachment_presence_matcher_rb.html">
                vendor/plugins/paperclip/lib/paperclip/matchers/validate_attachment_presence_matcher.rb
                </a>
        <br />
                <a href="../../files/vendor/plugins/paperclip/lib/paperclip/matchers/validate_attachment_content_type_matcher_rb.html">
                vendor/plugins/paperclip/lib/paperclip/matchers/validate_attachment_content_type_matcher.rb
                </a>
        <br />
                <a href="../../files/vendor/plugins/paperclip/lib/paperclip/matchers/have_attached_file_matcher_rb.html">
                vendor/plugins/paperclip/lib/paperclip/matchers/have_attached_file_matcher.rb
                </a>
        <br />
                <a href="../../files/vendor/plugins/paperclip/shoulda_macros/paperclip_rb.html">
                vendor/plugins/paperclip/shoulda_macros/paperclip.rb
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <h1><a href="../Paperclip.html">Paperclip</a> <a href="Shoulda.html">Shoulda</a> Macros</h1>
<p>
These macros are intended for use with shoulda, and will be included into
your tests automatically. All of the macros use the standard shoulda
assumption that the name of the test is based on the name of the model
you&#8216;re testing (that is, UserTest is the test for the User model),
and will load that class for testing purposes.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000198">paperclip_fixture</a>&nbsp;&nbsp;
      <a href="#M000193">should_have_attached_file</a>&nbsp;&nbsp;
      <a href="#M000195">should_validate_attachment_content_type</a>&nbsp;&nbsp;
      <a href="#M000194">should_validate_attachment_presence</a>&nbsp;&nbsp;
      <a href="#M000196">should_validate_attachment_size</a>&nbsp;&nbsp;
      <a href="#M000197">stub_paperclip_s3</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->
    <div id="includes">
      <h3 class="section-bar">Included Modules</h3>

      <div id="includes-list">
        <span class="include-name"><a href="Shoulda/Matchers.html">Matchers</a></span>
      </div>
    </div>

    <div id="section">

    <div id="class-list">
      <h3 class="section-bar">Classes and Modules</h3>

      Module <a href="Shoulda/Matchers.html" class="link">Paperclip::Shoulda::Matchers</a><br />

    </div>




      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000198" class="method-detail">
        <a name="M000198"></a>

        <div class="method-heading">
          <a href="Shoulda.src/M000198.html" target="Code" class="method-signature"
            onclick="popupCode('Shoulda.src/M000198.html');return false;">
          <span class="method-name">paperclip_fixture</span><span class="method-args">(model, attachment, extension)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Stub S3 and return a file for attachment. Best with <a
href="../Factory.html">Factory</a> Girl. Uses a strict directory
convention:
</p>
<pre>
    features/support/paperclip
</pre>
<p>
This method is used by the <a
href="../Paperclip.html">Paperclip</a>-provided Cucumber step:
</p>
<pre>
    When I attach a &quot;demo_tape&quot; &quot;mp3&quot; file to a &quot;band&quot; on S3
</pre>
<p>
@example
</p>
<pre>
  Factory.define :band_with_demo_tape, :parent =&gt; :band do |band|
    band.demo_tape { band.paperclip_fixture(&quot;band&quot;, &quot;demo_tape&quot;, &quot;png&quot;) }
  end
</pre>
        </div>
      </div>

      <div id="method-M000193" class="method-detail">
        <a name="M000193"></a>

        <div class="method-heading">
          <a href="Shoulda.src/M000193.html" target="Code" class="method-signature"
            onclick="popupCode('Shoulda.src/M000193.html');return false;">
          <span class="method-name">should_have_attached_file</span><span class="method-args">(name)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This will test whether you have defined your attachment correctly by
checking for all the required fields exist after the definition of the
attachment.
</p>
        </div>
      </div>

      <div id="method-M000195" class="method-detail">
        <a name="M000195"></a>

        <div class="method-heading">
          <a href="Shoulda.src/M000195.html" target="Code" class="method-signature"
            onclick="popupCode('Shoulda.src/M000195.html');return false;">
          <span class="method-name">should_validate_attachment_content_type</span><span class="method-args">(name, options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Tests that you have content_type validations specified. There are two
options, :valid and :invalid. Both accept an array of strings. The strings
should be a list of content types which will pass and fail validation,
respectively.
</p>
        </div>
      </div>

      <div id="method-M000194" class="method-detail">
        <a name="M000194"></a>

        <div class="method-heading">
          <a href="Shoulda.src/M000194.html" target="Code" class="method-signature"
            onclick="popupCode('Shoulda.src/M000194.html');return false;">
          <span class="method-name">should_validate_attachment_presence</span><span class="method-args">(name)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Tests for validations on the presence of the attachment.
</p>
        </div>
      </div>

      <div id="method-M000196" class="method-detail">
        <a name="M000196"></a>

        <div class="method-heading">
          <a href="Shoulda.src/M000196.html" target="Code" class="method-signature"
            onclick="popupCode('Shoulda.src/M000196.html');return false;">
          <span class="method-name">should_validate_attachment_size</span><span class="method-args">(name, options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Tests to ensure that you have file size validations turned on. You can pass
the same options to this that you can to validate_attachment_file_size -
:less_than, :greater_than, and :in. :less_than checks that a file is less
than a certain size, :greater_than checks that a file is more than a
certain size, and :in takes a Range or Array which specifies the lower and
upper limits of the file size.
</p>
        </div>
      </div>

      <div id="method-M000197" class="method-detail">
        <a name="M000197"></a>

        <div class="method-heading">
          <a href="Shoulda.src/M000197.html" target="Code" class="method-signature"
            onclick="popupCode('Shoulda.src/M000197.html');return false;">
          <span class="method-name">stub_paperclip_s3</span><span class="method-args">(model, attachment, extension)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Stubs the HTTP PUT for an attachment using S3 storage.
</p>
<p>
@example
</p>
<pre>
  stub_paperclip_s3('user', 'avatar', 'png')
</pre>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>